# ガイドライン

## ユーザー対応方針
- **必ず日本語で回答する。**
- 不明点・曖昧な要件がある場合は、**自己判断せず必ずユーザーに確認する。**
- 確認が必要な点は、**箇条書きで明示する**
  （例：「1) ファイル名は任意か？ 2) 出力先は `z/` で良いか？」）。

---

## プラン作成ルール
- プランは **`z` ディレクトリ**配下で管理する。
- `z` ディレクトリが存在しない場合は、**必ず作成する。**
- プランは **Markdown (`.md`) ファイル**として作成し、内容は Markdown 形式で記述する。
- ファイル名は **日付＋簡潔な説明**を基本とする
  （例：`2025-09-30-project-plan.md`）。

---

## 提案ルール
- 提案時は、**複数パターン** を提示する。
- 各パターンには **Pros（利点）** と **Cons（欠点）** を明記する。
- 最後に「推奨案」を提示して、ユーザーの判断をサポートする。

---

## 実装ルール
- 実装前に必ず `z/` 配下の最新プランを確認する。
- プランが存在しない場合は、ユーザーに確認を行い、必ずプランを作成してから実装を開始する。
- プランが不明瞭な場合は、自己判断せず、箇条書きで質問を提示して確認を取る。
- 実装内容とプランが乖離する場合は、必ず理由を記録し、ユーザーに承認を得る。

---

## デザイン規約

この規約は、フロントエンド実装時に **プロダクション品質**かつ  
**独自性を持ったデザインを一貫して作るための基準**を定める。

### 1. デザイン方針

#### 1-1. 美学の方向性を明確にする
- UI を作る前に「美学の方向性（Tone）」を必ず決める。
- 例：
    - ミニマル / ブルータル / 編集デザイン / レトロフューチャー / ラグジュアリー
    - パステル / 工業・ユーティリティ系 / マキシマリズム など
- **曖昧なデザインはNG**。方向性は明示的に言語化する。

#### 1-2. 目的と利用者を明確化する
- UI が「何のために存在するか」「誰が使うか」を先に定義する。
- これを元にレイアウト・トーン・情報密度を決める。

#### 1-3. 記憶に残る要素を1つ以上入れる
- 配色・タイポグラフィ・アニメーションなど  
  **必ず「特徴的な一点」を設計に入れること。**

---

### 2. タイポグラフィ規約
- **Arial / Inter / Roboto / system-ui 等の汎用フォントは禁止。**
- 作品に合った「個性のあるフォント」を選択する。
- 見出し用のディスプレイフォントと本文用の読みやすいフォントを組み合わせる。
- 行間、文字間、字面のリズムに意識を向けて調整する。

---

### 3. カラー & テーマ規約
- カラーパレットは **主色 1〜2色**＋**アクセント 1色**で構成する。
- グラデーションを使う場合も、プロジェクトのトーンに合わせた独自性を持たせる。
- 無難な紫×白の構成は避ける。

---

### 4. レイアウト規約
- レイアウトは以下のいずれかを明確に選ぶこと：
    - **大胆な余白を使った疎レイアウト**
    - **高密度の情報圧縮レイアウト**
- 非対称・重なり・段差・斜線など、**“意図のあるズラし”** を歓迎する。

---

### 5. 背景・質感規約
- 単なる白背景禁止。
- 必ず「質感」または「空気感」をデザインする：
    - 軽いノイズ
    - グラデーションメッシュ
    - 幾何学模様
    - 光のレイヤーや透明度表現
    - グレイン（粒状感）
- アプリの世界観に合わせて使う。

---

### 6. モーション規約
- モーションは「必要な箇所に限定して強く効かせる」。
- 利用例：
    - ページロード時の段階的フェードイン
    - ホバー時の微妙な変化
    - スクロールトリガー演出
- 不要な常時アニメーションは避ける。

---

### 7. 禁止事項
以下は **全面禁止**：
- どこでも見るような AI テンプレート的 UI
- Inter / Roboto / system-ui など凡庸フォント
- ありふれた紫グラデーション＋白背景
- 意図の無い左右均等レイアウト
- “それっぽさ”で組んだ構造のない UI

---

## コーディング規則

### 型定義の書き方

- **`type` を使用する。 `interface` は禁止。**

#### Bad

```ts
interface User {
  name: string;
  age: number;
}
```

#### Good

```ts
type User = {
  name: string;
  age: number;
}
```

### 関数の書き方

- 基本は function 宣言を使う。
- 関数式が引数に入る場合のみアロー関数を使う。
- 戻り値の型を明示する。

#### Bad

```ts
const add = (a: number, b: number): number => {
  return a + b;
}
```

#### Good

```ts
function add(a: number, b: number): number {
  return a + b;
}
```

#### Good（引数として使用する場合）

```ts
const array = [1, 2, 3].map((number) => number * 2)
```

### 命名規則

- 変数・関数: camelCase（例：userName, calculateTotal）
- 型・クラス: PascalCase（例：User, OrderService）
- 定数: UPPER_CASE（例：MAX_RETRY_COUNT）

### その他

- any の使用は禁止。必要なら unknown またはジェネリクスを検討。
- 非同期処理は必ず async/await を使用。then/catch のみは禁止。
- 例外処理は明示的に記述し、握りつぶさない。

---

## 運用上の補足

- 新しいルールを導入する場合は、必ずユーザーに事前相談する。
- プロジェクト全体に影響する規約変更は、z/coding-guidelines.md を更新し、履歴を残す。
